<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>INOVEX25 | Civic Reporter</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
/* --- Reset & Base --- */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: "Segoe UI", sans-serif; }
body {
  min-height: 100vh;
  display: flex; justify-content: center; align-items: center;
  background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
  position: relative;
  overflow: hidden;
  padding: 20px;
}

/* --- Background shapes for depth --- */
body::before, body::after {
  content: '';
  position: absolute;
  border-radius: 50%;
  opacity: 0.2;
  z-index: 0;
}
body::before { width: 400px; height: 400px; background: #00bcd4; top: -100px; left: -100px; }
body::after { width: 500px; height: 500px; background: #26c6da; bottom: -150px; right: -150px; }

/* --- Container --- */
.container {
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 900px;
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

/* --- Card Styles --- */
.card {
  flex: 1 1 380px;
  background: white;
  padding: 28px;
  border-radius: 20px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
  transition: 0.4s;
  animation: fadeIn 0.6s ease;
}
.card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(0,0,0,0.18); }
@keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }

h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #007c91;
  font-size: 1.7rem;
}

label {
  font-weight: 600;
  margin-top: 12px;
  display: block;
  color: #333;
}

textarea, input {
  width: 100%;
  padding: 14px;
  margin-top: 6px;
  border: 1px solid #ddd;
  border-radius: 12px;
  font-size: 15px;
  transition: 0.3s;
}
textarea { resize: none; }
textarea:focus, input:focus { border-color:#007c91; box-shadow:0 0 6px rgba(0,124,145,0.3); outline:none; }

/* --- Buttons --- */
button {
  margin-top: 14px;
  padding: 14px;
  width: 100%;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 6px 16px rgba(0,0,0,0.12);
}
button:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.16); }

#submitBtn {
  background: linear-gradient(135deg,#00acc1,#26c6da);
  color: #fff;
}
#submitBtn:hover {
  background: linear-gradient(135deg,#007c91,#00bcd4);
}

#micBtn, #locBtn {
  background: linear-gradient(135deg,#26c6da,#00acc1);
  color: #fff;
}
#micBtn:hover, #locBtn:hover {
  background: linear-gradient(135deg,#00acc1,#007c91);
}

/* --- Status & Location --- */
#locDisplay { margin-top: 8px; font-size: 14px; color: #555; text-align: center; transition: 0.3s; }
#status { margin-top: 16px; text-align: center; font-weight: 600; transition: all 0.3s; }
.success { color: #26c6da; }
.error { color: #e94e77; }

/* --- Preview Card --- */
#preview {
  margin-top: 16px;
  padding: 16px;
  border-radius: 16px;
  background:#f0f4f7;
  display:none;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  transition: all 0.4s ease;
}
#preview.show { display:block; animation: previewAnim 0.4s ease forwards; }
#preview img { max-width:100%; border-radius:12px; margin-top:12px; transition: transform 0.3s; }
#preview img:hover { transform: scale(1.05); }

@keyframes previewAnim {
  from { opacity:0; transform: scale(0.95); }
  to { opacity:1; transform: scale(1); }
}

/* --- Responsive --- */
@media (max-width:768px) { .container { flex-direction: column; align-items: stretch; } }

</style>
</head>
<body>
<div class="container">

  <!-- Form Card -->
  <div class="card">
    <h2><i class="fa-solid fa-triangle-exclamation"></i> Report Issue</h2>

    <label><i class="fa-solid fa-pen"></i> Description</label>
    <textarea id="desc" rows="3" placeholder="e.g. Overflowing drainage near park"></textarea>
    <button type="button" id="micBtn"><i class="fa-solid fa-microphone"></i> Speak</button>

    <label><i class="fa-solid fa-camera"></i> Upload Photo</label>
    <input id="photo" type="file" accept="image/*" capture="environment">

    <button id="locBtn" type="button"><i class="fa-solid fa-location-dot"></i> Use My Location</button>
    <span id="locDisplay">Lat: -, Lng: -</span>

    <button id="submitBtn"><i class="fa-solid fa-paper-plane"></i> Submit Issue</button>
    <div id="status"></div>
  </div>

  <!-- Preview Card -->
  <div class="card" id="preview">
    <h2>ðŸ“‹ Preview</h2>
    <p id="pDesc"></p>
    <img id="pImg" src="" alt="">
    <p id="pLoc"></p>
  </div>

</div>

<script src="citizen.js"></script>
<script>
  // Live preview animation
  const previewCard = document.getElementById('preview');
  const descEl = document.getElementById('desc');
  const photoEl = document.getElementById('photo');
  const pDesc = document.getElementById('pDesc');
  const pImg = document.getElementById('pImg');
  const pLoc = document.getElementById('pLoc');

  function updatePreview() {
    let show = false;
    if(descEl.value || photoEl.files[0]) show = true;

    pDesc.textContent = descEl.value || "No description yet";
    if(photoEl.files[0]){
      pImg.src = URL.createObjectURL(photoEl.files[0]);
      pImg.style.display = "block";
    } else pImg.style.display = "none";

    if(show){
      previewCard.classList.add('show');
    } else {
      previewCard.classList.remove('show');
    }
  }
  descEl.addEventListener('input', updatePreview);
  photoEl.addEventListener('change', updatePreview);
</script>
</body>
</html>
